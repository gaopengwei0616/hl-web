package com.yida.controller.content;

import com.github.pagehelper.PageHelper;
import com.github.pagehelper.PageInfo;
import com.yida.entity.Information;
import com.yida.mapper.InformationMapper;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.servlet.ModelAndView;

import javax.annotation.Resource;
import java.util.List;

@Controller
public class InformationController {

    @Autowired
    InformationMapper informationMapper;

    /*
    显示信息管理
     */

    @RequestMapping("xxgl")
    public ModelAndView xxgl(int posid, @RequestParam(defaultValue = "10", name = "pageSize", required = false) Integer pageSize, //页数量
                                  @RequestParam(defaultValue = "0", name = "pageNum", required = false) Integer pageNum  ) //当前页)
     {
         ModelAndView modelAndView = new ModelAndView();
         PageHelper.startPage(pageNum,pageSize);
         List<Information> xxgl = informationMapper.xxgl(posid);
         PageInfo<Information> information = new PageInfo<>(xxgl) ;
         modelAndView.setViewName("/Content/informationManage");
         modelAndView.addObject("page", information);
         modelAndView.addObject("pageList", information.getList());
         modelAndView.addObject("value", 1);
         return modelAndView;
    }


}




